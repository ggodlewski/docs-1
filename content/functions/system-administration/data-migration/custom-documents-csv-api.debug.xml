<?xml version="1.0" encoding="UTF-8"?>
<office:document-content xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:style="urn:oasis:names:tc:opendocument:xmlns:style:1.0" xmlns:text="urn:oasis:names:tc:opendocument:xmlns:text:1.0" xmlns:table="urn:oasis:names:tc:opendocument:xmlns:table:1.0" xmlns:draw="urn:oasis:names:tc:opendocument:xmlns:drawing:1.0" xmlns:fo="urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:number="urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0" xmlns:svg="urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0" xmlns:chart="urn:oasis:names:tc:opendocument:xmlns:chart:1.0" xmlns:dr3d="urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0" xmlns:math="http://www.w3.org/1998/Math/MathML" xmlns:form="urn:oasis:names:tc:opendocument:xmlns:form:1.0" xmlns:script="urn:oasis:names:tc:opendocument:xmlns:script:1.0" xmlns:ooo="http://openoffice.org/2004/office" xmlns:ooow="http://openoffice.org/2004/writer" xmlns:oooc="http://openoffice.org/2004/calc" xmlns:dom="http://www.w3.org/2001/xml-events" xmlns:xforms="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:rpt="http://openoffice.org/2005/report" xmlns:of="urn:oasis:names:tc:opendocument:xmlns:of:1.2" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:grddl="http://www.w3.org/2003/g/data-view#" xmlns:officeooo="http://openoffice.org/2009/office" xmlns:tableooo="http://openoffice.org/2009/table" xmlns:drawooo="http://openoffice.org/2010/draw" xmlns:calcext="urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0" xmlns:loext="urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0" xmlns:field="urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0" xmlns:formx="urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0" xmlns:css3t="http://www.w3.org/TR/css3-text/" office:version="1.2"><office:scripts/><office:font-face-decls><style:font-face style:name="Arial" svg:font-family="Arial" style:font-family-generic="roman" style:font-pitch="variable"/><style:font-face style:name="Courier" svg:font-family="Courier" style:font-family-generic="roman" style:font-pitch="variable"/><style:font-face style:name="Georgia" svg:font-family="Georgia" style:font-family-generic="roman" style:font-pitch="variable"/><style:font-face style:name="Liberation Sans" svg:font-family="&apos;Liberation Sans&apos;" style:font-family-generic="swiss" style:font-pitch="variable"/><style:font-face style:name="Arial1" svg:font-family="Arial" style:font-family-generic="system" style:font-pitch="variable"/><style:font-face style:name="Courier1" svg:font-family="Courier" style:font-family-generic="system" style:font-pitch="variable"/><style:font-face style:name="Georgia1" svg:font-family="Georgia" style:font-family-generic="system" style:font-pitch="variable"/><style:font-face style:name="Linux Libertine G" svg:font-family="&apos;Linux Libertine G&apos;" style:font-family-generic="system" style:font-pitch="variable"/></office:font-face-decls><office:automatic-styles><style:style style:name="P1" style:family="paragraph" style:parent-style-name="Standard"><style:paragraph-properties fo:break-before="auto" fo:break-after="auto" fo:padding="0in" fo:border="none"/></style:style><style:style style:name="P2" style:family="paragraph" style:parent-style-name="Standard"><style:paragraph-properties fo:break-before="auto" fo:break-after="auto" fo:padding="0in" fo:border="none"/><style:text-properties fo:font-style="italic" style:font-style-asian="italic"/></style:style><style:style style:name="P3" style:family="paragraph" style:parent-style-name="Standard"><style:paragraph-properties fo:margin-top="0in" fo:margin-bottom="0.1563in" loext:contextual-spacing="false" fo:line-height="100%" fo:break-before="auto" fo:break-after="auto" fo:padding="0in" fo:border="none"/><style:text-properties fo:color="#000000"/></style:style><style:style style:name="P4" style:family="paragraph" style:parent-style-name="Standard"><style:paragraph-properties fo:margin-top="0in" fo:margin-bottom="0.1563in" loext:contextual-spacing="false" fo:line-height="100%" fo:break-before="auto" fo:break-after="auto" fo:padding="0in" fo:border="none"/></style:style><style:style style:name="P5" style:family="paragraph" style:parent-style-name="Standard"><style:paragraph-properties fo:margin-top="0in" fo:margin-bottom="0.1665in" loext:contextual-spacing="false" fo:line-height="100%" fo:break-before="auto" fo:break-after="auto" fo:padding="0in" fo:border="none"/></style:style><style:style style:name="P6" style:family="paragraph" style:parent-style-name="Standard"><style:paragraph-properties fo:margin-top="0in" fo:margin-bottom="0.1665in" loext:contextual-spacing="false" fo:line-height="100%" fo:break-before="auto" fo:break-after="auto" fo:padding="0in" fo:border="none"/><style:text-properties fo:font-style="italic" style:font-style-asian="italic"/></style:style><style:style style:name="P7" style:family="paragraph" style:parent-style-name="Standard" style:master-page-name="Standard"><style:paragraph-properties style:page-number="1" fo:break-before="auto" fo:break-after="auto" fo:padding="0in" fo:border="none"/></style:style><style:style style:name="P8" style:family="paragraph" style:parent-style-name="Heading_20_2"><style:paragraph-properties fo:margin-top="0in" fo:margin-bottom="0.1563in" loext:contextual-spacing="false" fo:line-height="100%" fo:break-before="auto" fo:break-after="auto" fo:padding="0in" fo:border="none"/></style:style><style:style style:name="P9" style:family="paragraph" style:parent-style-name="Heading_20_3"><style:paragraph-properties fo:margin-top="0in" fo:margin-bottom="0.1665in" loext:contextual-spacing="false" fo:line-height="100%" fo:break-before="auto" fo:break-after="auto" fo:padding="0in" fo:border="none"/></style:style><style:style style:name="T1" style:family="text"><style:text-properties fo:color="#000000"/></style:style><style:style style:name="T2" style:family="text"><style:text-properties fo:font-size="18pt" fo:font-style="normal" fo:font-weight="bold" style:font-size-asian="18pt" style:font-style-asian="normal" style:font-weight-asian="bold" style:font-size-complex="18pt"/></style:style><style:style style:name="T3" style:family="text"><style:text-properties fo:font-size="14pt" fo:font-style="normal" fo:font-weight="bold" style:font-size-asian="14pt" style:font-style-asian="normal" style:font-weight-asian="bold" style:font-size-complex="14pt"/></style:style><style:style style:name="T4" style:family="text"><style:text-properties style:font-name="Courier" fo:font-style="italic" style:font-name-asian="Courier1" style:font-style-asian="italic" style:font-name-complex="Courier1"/></style:style><style:style style:name="T5" style:family="text"><style:text-properties style:font-name="Courier" style:font-name-asian="Courier1" style:font-name-complex="Courier1"/></style:style><style:style style:name="T6" style:family="text"><style:text-properties fo:font-style="italic" style:font-style-asian="italic"/></style:style><style:style style:name="T7" style:family="text"><style:text-properties fo:color="#0000ee" style:text-underline-style="solid" style:text-underline-width="auto" style:text-underline-color="font-color"/></style:style></office:automatic-styles><office:body><office:text text:use-soft-page-breaks="true"><text:sequence-decls><text:sequence-decl text:display-outline-level="0" text:name="Illustration"/><text:sequence-decl text:display-outline-level="0" text:name="Table"/><text:sequence-decl text:display-outline-level="0" text:name="Text"/><text:sequence-decl text:display-outline-level="0" text:name="Drawing"/></text:sequence-decls><text:p text:style-name="P7"><text:span text:style-name="T1">Custom documents can be designed at the storage type level. When a layout is present in the system with module=Storage Type and name=&lt;storage type&gt;, this layout will be used to render the document.</text:span></text:p><text:p text:style-name="P3"/><text:p text:style-name="P8"><text:span text:style-name="T2">Existing Storage Types</text:span></text:p><text:p text:style-name="P1">A layout with module=Storage Type and name=&lt;existing storage type&gt; (&lt;=27 as of 03/11/2015) will supersede the default document rendering for that storage type.</text:p><text:p text:style-name="P5"/><text:p text:style-name="P9"><text:span text:style-name="T3">Process</text:span></text:p><text:p text:style-name="P1">1) Determine the number of the storage type for which you want to create a custom layout. This can be done by looking either in the MySQL database or at the stg_DetailView[MAX_STGTYPES] array in storage.c (approx. line 1950).</text:p><text:p text:style-name="P1">To view the storage types in MySQL run the following query:</text:p><text:p text:style-name="P1"/><text:p text:style-name="P1"><text:span text:style-name="T4">{{% pre %}}</text:span></text:p><text:p text:style-name="P1"><text:span text:style-name="T5"><text:line-break/>SELECT * FROM storage_types;<text:line-break/></text:span></text:p><text:p text:style-name="P1"><text:span text:style-name="T4">{{% /pre %}}</text:span></text:p><text:p text:style-name="P1"><text:span text:style-name="T5"><text:line-break/></text:span></text:p><text:p text:style-name="P1">2) Create a new layout. Set the module=Storage Type. Set the name to be the value from the storage_type column of the storage_types table or the number shown in comments in storage.c. For example, a Lab Request is storage type 13. To create a layout for lab requests, name=13.</text:p><text:p text:style-name="P1">3) Add the desired HTML to the layout. To replicate the information in the default document, follow the code in the appropriate function from the stg_DetailView array. For lab requests, this function is stg_DetailViewLabReq().</text:p><text:p text:style-name="P1"><text:span text:style-name="T6">{{% info %}}</text:span></text:p><text:p text:style-name="P2"/><text:p text:style-name="P1">These documents will only be rendered with a header if a custom header layout is created with module=Storage Type Header and name is the same as the storage type layout. Additionally, these layouts will override the default rendering for all documents in the system with that storage type.</text:p><text:p text:style-name="P1"><text:span text:style-name="T6">{{% /info %}}</text:span></text:p><text:p text:style-name="P6"/><text:p text:style-name="P9"><text:span text:style-name="T3">Example Files</text:span></text:p><text:p text:style-name="P1">Example files are not fully functional copies of the default document rendering.</text:p><text:p text:style-name="P1"><text:a xlink:type="simple" xlink:href="https://miewiki.med-web.com/wiki/images/3/32/Storage_Type_13.txt" text:style-name="ListLabel_20_1" text:visited-style-name="ListLabel_20_1"><text:span text:style-name="T7">Lab Request custom layout</text:span></text:a> (module=Storage Type, name=13)</text:p><text:p text:style-name="P1"><text:a xlink:type="simple" xlink:href="https://miewiki.med-web.com/wiki/images/a/ad/Lab_Request_supplemental_layout.pdf" text:style-name="ListLabel_20_1" text:visited-style-name="ListLabel_20_1"><text:span text:style-name="T7">Lab Request supplemental layout</text:span></text:a> (module=wcquery, name=13 display)</text:p><text:p text:style-name="P1"><text:a xlink:type="simple" xlink:href="https://miewiki.med-web.com/wiki/images/6/69/Storage_Type_Header_13.txt" text:style-name="ListLabel_20_1" text:visited-style-name="ListLabel_20_1"><text:span text:style-name="T7">Lab Request custom header layout</text:span></text:a> (module=Storage Type Header, name=13)</text:p><text:p text:style-name="P4"><text:soft-page-break/></text:p><text:p text:style-name="P8"><text:span text:style-name="T2">Custom Storage Types</text:span></text:p><text:p text:style-name="P1">Storage types &gt;= 1001 can be added to create a custom document rendered with a layout.</text:p><text:p text:style-name="P5"/><text:p text:style-name="P9"><text:span text:style-name="T3">Process</text:span></text:p><text:p text:style-name="P1">1) Insert a new storage type into the storage_types table.</text:p><text:p text:style-name="P1"/><text:p text:style-name="P1"><text:span text:style-name="T4">{{% pre %}}</text:span></text:p><text:p text:style-name="P1"><text:span text:style-name="T5"><text:line-break/>&lt;1001+&gt;,,,);INSERT INTO storage_types (storage_type, file_ext, content_type, description) VALUES (<text:line-break/></text:span></text:p><text:p text:style-name="P1"><text:span text:style-name="T4">{{% /pre %}}</text:span></text:p><text:p text:style-name="P1"><text:span text:style-name="T5"><text:line-break/></text:span></text:p><text:p text:style-name="P1">For example,</text:p><text:p text:style-name="P1"/><text:p text:style-name="P1"><text:span text:style-name="T4">{{% pre %}}</text:span></text:p><text:p text:style-name="P1"><text:span text:style-name="T5"><text:line-break/>INSERT INTO storage_types (storage_type, file_ext, content_type, description) VALUES (1001,&apos;html&apos;,&apos;text/html&apos;,&apos;Test new storage type&apos;);<text:line-break/></text:span></text:p><text:p text:style-name="P1"><text:span text:style-name="T4">{{% /pre %}}</text:span></text:p><text:p text:style-name="P1"><text:span text:style-name="T5"><text:line-break/></text:span></text:p><text:p text:style-name="P1">2) Add a new document with the new storage type you just created. This can be done by navigating to a patient&apos;s chart and clicking the Add Document link. Add a text document and copy the id. Then manually update the document with that id to have your new storage type.</text:p><text:p text:style-name="P1"/><text:p text:style-name="P1"><text:span text:style-name="T4">{{% pre %}}</text:span></text:p><text:p text:style-name="P1"><text:span text:style-name="T5"><text:line-break/> WHERE doc_id=;UPDATE documents SET storage_type=<text:line-break/></text:span></text:p><text:p text:style-name="P1"><text:span text:style-name="T4">{{% /pre %}}</text:span></text:p><text:p text:style-name="P1"><text:span text:style-name="T5"><text:line-break/></text:span></text:p><text:p text:style-name="P1">You can also perform a manual insert into the documents table.</text:p><text:p text:style-name="P1">3) Create a new layout. Set the module=Storage Type. Set the name to be the new storage type &gt;= 1001.</text:p><text:p text:style-name="P1">4) Add the desired HTML to the layout.</text:p><text:p text:style-name="P1"><text:soft-page-break/><text:span text:style-name="T6">{{% info %}}</text:span></text:p><text:p text:style-name="P2"/><text:p text:style-name="P1">These documents will only be rendered with a header if a custom header layout is created with module=Storage Type Header and name is the same as the storage type layout.</text:p><text:p text:style-name="P1"><text:span text:style-name="T6">{{% /info %}}</text:span></text:p><text:p text:style-name="P6"/><text:p text:style-name="P9"><text:span text:style-name="T3">Example Files</text:span></text:p><text:p text:style-name="P1"><text:a xlink:type="simple" xlink:href="https://miewiki.med-web.com/wiki/images/c/c3/Storage_type_1001_example.pdf" text:style-name="ListLabel_20_1" text:visited-style-name="ListLabel_20_1"><text:span text:style-name="T7">Custom Storage type example</text:span></text:a></text:p></office:text></office:body></office:document-content>